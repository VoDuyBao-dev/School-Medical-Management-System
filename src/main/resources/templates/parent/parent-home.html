<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Parent Home</title></head>
<body>
    <h1>Welcome, <span th:text="${username}">Parent</span>!</h1>
    <p>This is your dashboard.</p>
    <div th:if="${error}" class="error">
        <p th:text="${error}"></p>
    </div>
    <div>
        <a th:href="@{/parent/notification/HealthCheckConsents}">Danh s√°ch th√¥ng b√°o x√°c nh·∫≠n kh√°m s∆∞cs kh·ªèe</a>
    </div>
    <div>
        <a th:href="@{/parent/notification/HealthCheckRecords}">Danh s√°ch th√¥ng b√°o k·∫øt qu·∫£ kh√°m s∆∞cs kh·ªèe</a>
    </div>
    <div>
        <a th:href="@{/parent/notification/vaccinationConsents}">Danh s√°ch th√¥ng b√°o x√°c nh·∫≠n ti√™m ch·ªßng</a>
    </div>
    <div>
        <a th:href="@{/parent/notification/VaccinationRecords}">Danh s√°ch th√¥ng b√°o k·∫øt qu·∫£ ti√™m ch·ªßng</a>
    </div>

    <div style="position: relative;">
        <button id="notificationBtn" style="background: none; border: none; font-size: 20px;">
            üîî
        </button>

        <div id="notificationDropdown" style="display: none; position: absolute; right: 0; background: white; border: 1px solid #ccc; border-radius: 5px; width: 250px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
            <ul style="list-style: none; padding: 10px;">
                <li th:if="${notifications.hasNewConsent}">
                    <a th:href="@{/parent/health-check-consents}" style="text-decoration: none; color: #333;">
                        ‚úîÔ∏è B·∫°n c√≥ phi·∫øu kh√°m s·ª©c kh·ªèe m·ªõi c·∫ßn x√°c nh·∫≠n
                    </a>
                </li>
                <li th:if="${notifications.hasNewRecord}">
                    <a th:href="@{/parent/health-check-records}" style="text-decoration: none; color: #333;">
                        üìÑ Tr∆∞·ªùng ƒë√£ g·ª≠i k·∫øt qu·∫£ kh√°m s·ª©c kh·ªèe
                    </a>
                </li>
                <li th:if="${!notifications.hasNewConsent and !notifications.hasNewRecord}">
                    <span style="color: #888;">Kh√¥ng c√≥ th√¥ng b√°o m·ªõi</span>
                </li>
            </ul>
        </div>

    <a th:href="@{/parent/profile}"><button type="button">Xem th√¥ng tin h·ªì s∆°</button></a>
    <br>
    <!-- ƒêi·ªÅu h∆∞·ªõng ƒë·∫øn trang ch·ªçn h·ªçc sinh ƒë·ªÉ khai b√°o h·ªì s∆° -->
    <a th:href="@{/parent/health-record/select-student}"><button type="button">Khai b√°o h·ªì s∆° s·ª©c kh·ªèe h·ªçc sinh</button></a>
    <br>
    <a th:href="@{/parent/sentMedicine/list}"><button type="button">Danh s√°ch thu·ªëc ƒë√£ g·ª≠i</button></a>
    <br>
    <a th:href="@{/logout}"><button type="button">ƒêƒÉng xu·∫•t</button></a>
    <br>

    <p>showNotification: <span th:text="${showNotification}"></span></p>
    <!-- Popup th√¥ng b√°o -->
    <div id="overlay" th:if="${showNotification}" ></div>
    <div id="healthCheckNotification" th:if="${showNotification}" >
        <p>B·∫°n c√≥ phi·∫øu kh√°m s·ª©c kh·ªèe ƒë·ªãnh k·ª≥ m·ªõi!</p>

        <br>

        <a th:href="@{/user/healthCheckConsent/list}" onclick="dismissNotification()">Xem phi·∫øu kh·∫£o s√°t</a>
        <br><br>
        <button onclick="dismissNotification()">B·ªè qua</button>
    </div>

    <script>
        document.getElementById("notificationBtn").addEventListener("click", function () {
            const dropdown = document.getElementById("notificationDropdown");
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        });
    </script>
    </div>
</body>
</html>
