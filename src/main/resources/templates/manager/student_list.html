<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Danh sách học sinh</title>
  <style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th, td {
        padding: 10px;
        border: 1px solid #ccc;
    }

    th {
        background-color: #f0f0f0;
    }

    h2 {
        margin-top: 20px;
        color: #333;
    }

    a.button {
        padding: 6px 12px;
        text-decoration: none;
        color: white;
        background-color: #007bff;
        border-radius: 4px;
    }

    a.button:hover {
        background-color: #0056b3;
    }
  </style>
</head>
<body>

<h2>Danh sách học sinh</h2>

<a class="button" th:href="@{/manager/students/create}">Thêm học sinh mới</a>

<table>
  <thead>
  <tr>
    <th>STT</th>
    <th>Họ tên</th>
    <th>Giới tính</th>
    <th>Ngày sinh</th>
    <th>Địa chỉ</th>
    <th>Lớp</th>
    <th>Phụ huynh</th>
    <th>Tài khoản phụ huynh</th>
  </tr>
  </thead>
  <tbody>
  <tr th:if="${#lists.isEmpty(studentList)}">
    <td colspan="8">Không có bản ghi nào.</td>
  </tr>
  <tr th:each="student, iterStat : ${studentList}">
    <td th:text="${iterStat.count}">1</td>
    <td th:text="${student.fullName}">Nguyễn Văn A</td>
    <td th:text="${student.gender}">MALE</td>
    <td th:text="${student.birthDate}">2008-04-12</td>
    <td th:text="${student.address}">123 Lê Lợi</td>
    <td th:text="${student.className}">6A1</td>
<!--    <td th:text="${student.parent.fullName}">Trần Thị B</td>-->
    <td th:text="${student.parent != null and student.parent.fullName != null} ? ${student.parent.fullName} : 'Phụ huynh chưa cập nhật tên'">Phụ huynh</td>
    <td th:text="${student.parent.user.username}">phuhuynh1</td>
  </tr>
  </tbody>
</table>
<a th:href="@{/manager/manager-home}"><button type="button">Quay lại</button></a>
</body>
</html>
