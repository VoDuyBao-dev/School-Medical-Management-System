<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Danh sách thuốc trong kho</title>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/assets/css/nurse/medicine/list.css}" />
</head>
<body>

<h2>DANH SÁCH THUỐC TRONG KHO</h2>

<!-- Nút trái – phải -->
<div class="top-buttons">
  <a th:href="@{/school_nurse/nurse-home}" class="btn">
    <i class="fas fa-arrow-left"></i> Quay lại
  </a>
  <a th:href="@{/school_nurse/medicines/new}" class="btn">
    <i class="fas fa-plus"></i> Thêm thuốc mới
  </a>
</div>

<!-- Thông báo -->
<p th:if="${success}" th:text="${success}" class="notice-success"></p>

<!-- Không có thuốc -->
<div th:if="${#lists.isEmpty(medicines)}" class="no-data">
  Hiện chưa có thuốc
</div>

<!-- Bảng -->
<table th:if="${!#lists.isEmpty(medicines)}">
  <thead>
  <tr>
    <th>STT</th>
    <th>Tên thuốc</th>
    <th>Đơn vị</th>
    <th>Số lượng</th>
    <th>Ngày nhập</th>
    <th>Hạn sử dụng</th>
    <th>Thao tác</th>
  </tr>
  </thead>
  <tbody>
  <tr th:if="${#lists.isEmpty(medicines)}">
    <td colspan="7">Không có bản ghi nào.</td>
  </tr>
  <tr th:each="medicine, iterStat : ${medicines}">
<!--    <td th:text="${medicine.id}"></td>-->
    <td th:text="${iterStat.count}">1</td>
    <td th:text="${medicine.name}">Paracetamol</td>
    <td th:text="${medicine.unit}">Viên</td>
    <td th:text="${medicine.quantityInStock}">50</td>
    <td th:text="${#dates.format(medicine.entryDate,'dd/MM/yyyy')}">01/07/2025</td>
    <td th:text="${#dates.format(medicine.expiryDate,'dd/MM/yyyy')}">31/12/2025</td>

    <td>
      <a th:href="@{'/school_nurse/medicines/edit/' + ${medicine.id}}" class="btn">
        <i class="fas fa-edit"></i> Sửa
      </a>
      <a th:href="@{'/school_nurse/medicines/delete/' + ${medicine.id}}"
         onclick="return confirm('Bạn có chắc chắn muốn xóa?')" class="btn ms-1">
        <i class="fas fa-trash-alt"></i> Xóa
      </a>
    </td>
  </tr>
  </tbody>
</table>

  <script th:src="@{/assets/js/nurse/medicine/list.js}"></script>
</body>
</html>
