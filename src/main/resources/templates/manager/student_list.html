<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Danh sách học sinh</title>
  <link rel="stylesheet" th:href="@{/assets/css/manager/student_list.css}">
  <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css}">
  <link rel="stylesheet" th:href="@{/assets/css/fragments/header.css}" type="text/css"/>
  <link rel="stylesheet" th:href="@{/assets/css/fragments/footer.css}" type="text/css"/>
</head>
<body>
<div th:replace="fragments/header :: Header"></div>
<div th:replace="fragments/header :: Nav-Manager"></div>
<div class="container">
  <h2 class="page-title">Danh sách học sinh</h2>

  <div class="action-bar">
    <a th:href="@{/manager/manager-home}">
      <button type="button" class="btn-secondary">← Quay lại</button>
    </a>

    <a class="button add-button" th:href="@{/manager/students/create}">Thêm học sinh mới</a>
  </div>

  <table>
    <thead>
    <tr>
      <th class="center">STT</th>
      <th>Họ tên</th>
      <th>Giới tính</th>
      <th>Ngày sinh</th>
      <th>Địa chỉ</th>
      <th>Lớp</th>
      <th>Phụ huynh</th>
      <th>Tài khoản phụ huynh</th>
    </tr>
    </thead>
    <tbody>
    <tr th:if="${#lists.isEmpty(studentList)}">
      <td colspan="8" class="no-data">Không có bản ghi nào.</td>
    </tr>
    <tr th:each="student, iterStat : ${studentList}">
      <td class="center" th:text="${iterStat.count}">1</td>
      <td th:text="${student.fullName}">Nguyễn Văn A</td>
      <td th:text="${student.gender}">Nam</td>
      <td th:text="${student.birthDate}">2008-04-12</td>
      <td th:text="${student.address}">123 Lê Lợi</td>
      <td th:text="${student.className}">6A1</td>
      <td th:text="${student.parent != null and student.parent.fullName != null} ? ${student.parent.fullName} : 'Phụ huynh chưa cập nhật tên'">Phụ huynh</td>
      <td th:text="${student.parent.user.username}">phuhuynh1</td>
    </tr>
    </tbody>
  </table>
</div>

<script th:src="@{/assets/js/manager/student_list.js}"></script>
<script th:src="@{/assets/js/fragments/header.js}"></script>
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
